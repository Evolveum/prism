model prism {

    namespace "http://midpoint.evolveum.com/xml/ns/public/common/prism";

    import axiom {
        namespace "https://ns.evolveum.com/axiom/language";
    }

    root model {
        type PrismModel;
    }

    augmentation PrismModelExtension {
      target axiom:AxiomModel;

      item object {
          type PrismObjectDefinition;
      }

      item container {
          type PrismContainerDefinition;
      }

      item reference {
          type PrismReferenceDefinition;
      }
    }

    type PrismModel {
        extends axiom:AxiomModel;
        item type { // {}:type
          type PrismTypeDefinition;
        }
    }

    augmentation PrismTypeDefinitionAnnotation {
        target axiom:AxiomTypeDefinition;
        // TODO move to prism schema
        item object {
            type boolean;
        }

        // TODO move to prism schema
        item container {
            type boolean;
        }
        // TODO move to prism schema
        item objectReference {
            type boolean;
        }
        item itemName {
            type axiom:AxiomName;
        }
    }

    type PrismTypeDefinition {
      extends axiom:AxiomTypeDefinition;
    }

    type PrismObjectDefinition {
        extends PrismTypeDefinition;
    }

    type PrismContainerDefinition {
        extends PrismTypeDefinition;
    }

    type PrismReferenceDefinition {
        extends PrismTypeDefinition;
    }

    type PrismItemDefinition {
        extends PrismTypeDefinition;
    }

}
