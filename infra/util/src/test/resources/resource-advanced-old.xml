<object xsi:type="ResourceType" oid="ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" version="0" xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<!-- Copyright (c) 2011 Evolveum                             -->
<!--                                                         -->
<!-- The contents of this file are subject to the terms      -->
<!-- of the Common Development and Distribution License      -->
<!-- (the License). You may not use this file except in      -->
<!-- compliance with the License.                            -->
<!--                                                         -->
<!-- You can obtain a copy of the License at                 -->
<!-- http://www.opensource.org/licenses/cddl1 or             -->
<!-- CDDLv1.0.txt file in the source code distribution.      -->
<!-- See the License for the specific language governing     -->
<!-- permission and limitations under the License.           -->
<!--                                                         -->
<!-- If applicable, add the following below the CDDL Header, -->
<!-- with the fields enclosed by brackets [] replaced by     -->
<!-- your own identifying information:                       -->
<!--                                                         -->
<!-- Portions Copyrighted 2011 [name of copyright owner]     -->
<!-- Portions Copyrighted 2010 Forgerock                     -->
<!--                                                         -->    
<name>Localhost OpenDJ</name>
    <type>http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resourceaccessconfiguration-1.xsd</type>
    <namespace>http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2</namespace>
    <configuration>
        <idc:ConnectorConfiguration xmlns:iccldap="http://midpoint.evolveum.com/xml/ns/resource/idconnector/bundle/org.identityconnectors.ldap/org.identityconnectors.ldap.LdapConnector/1.0.5754openidm" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:idc="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/configuration-1.xsd" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
            <idc:ConnectorRef bundleName="org.identityconnectors.ldap" bundleVersion="1.0.5754openidm" connectorName="org.identityconnectors.ldap.LdapConnector">
                </idc:ConnectorRef>
            <idc:BundleProperties>
                <iccldap:port>1389</iccldap:port>
                <iccldap:host>localhost</iccldap:host>
                <iccldap:baseContexts>dc=example,dc=com</iccldap:baseContexts>
                <iccldap:principal>uid=idm,ou=Administrators,dc=example,dc=com</iccldap:principal>
                <iccldap:credentials>secret</iccldap:credentials>
                <iccldap:modifiersNamesToFilterOut>uid=idm,ou=Administrators,dc=example,dc=com</iccldap:modifiersNamesToFilterOut>
                </idc:BundleProperties>
            <idc:PoolConfigOption maxIdle="30" maxObjects="120" maxWait="5000" minEvictTimeMillis="5000" minIdle="5"/>
            <idc:OperationTimeouts>
                <idc:OperationTimeout name="create" timeout="50000"/>
                <idc:OperationTimeout name="update" timeout="50000"/>
                <idc:OperationTimeout name="delete" timeout="50000"/>
                <idc:OperationTimeout name="test" timeout="50000"/>
                <idc:OperationTimeout name="scriptOnConnector" timeout="50000"/>
                <idc:OperationTimeout name="scriptOnResource" timeout="50000"/>
                <idc:OperationTimeout name="get" timeout="50000"/>
                <idc:OperationTimeout name="authenticate" timeout="50000"/>
                <idc:OperationTimeout name="search" timeout="50000"/>
                <idc:OperationTimeout name="validate" timeout="50000"/>
                <idc:OperationTimeout name="sync" timeout="50000"/>
                <idc:OperationTimeout name="schema" timeout="50000"/>
                </idc:OperationTimeouts>
            </idc:ConnectorConfiguration>
    </configuration>
    <schema>
        <xsd:schema elementFormDefault="qualified" targetNamespace="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:r="http://midpoint.evolveum.com/xml/ns/public/resource/resource-schema-1.xsd" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">

            <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd"/>

            <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/common/common-2"/>

            <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/resource-schema-1.xsd"/>

            <xsd:complexType name="Account">

                <xsd:annotation>

                    <xsd:appinfo>

                        <r:identifier ref="ids:__UID__"/>

                        <r:secondaryIdentifier ref="ids:__NAME__"/>

                        <r:displayName ref="ri:uid"/>

                        <r:descriptionAttribute ref="ri:description"/>

                        <r:nativeObjectClass>__ACCOUNT__</r:nativeObjectClass>

                        <r:accountType default="true"/>
                        </xsd:appinfo>
                    </xsd:annotation>

                <xsd:complexContent>

                    <xsd:extension base="r:ResourceObjectClass">

                        <xsd:sequence>

                            <xsd:element ref="ids:__NAME__">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>__NAME__</r:nativeAttributeName>

                                        <r:attributeDisplayName>DN</r:attributeDisplayName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" name="description" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:help>DESCRIPTION_NAME_HELP_KEY</r:help>

                                        <r:nativeAttributeName>description</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element ref="ids:__PASSWORD__">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:attributeFlag>PASSWORD</r:attributeFlag>

                                        <r:classifiedAttribute>

                                            <r:encryption>HASH</r:encryption>

                                            <r:classificationLevel>password</r:classificationLevel>
                                            </r:classifiedAttribute>

                                        <r:nativeAttributeName>__PASSWORD__</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element name="sn" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>sn</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element name="cn" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>cn</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" ref="ids:__UID__">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:attributeFlag>NOT_UPDATEABLE</r:attributeFlag>

                                        <r:nativeAttributeName>__UID__</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" name="givenName" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>givenName</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" name="uid" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>uid</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" name="l" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>l</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>
                            </xsd:sequence>
                        </xsd:extension>
                    </xsd:complexContent>
                </xsd:complexType>

            <xsd:complexType name="Group">

                <xsd:annotation>

                    <xsd:appinfo>

                        <r:identifier ref="ids:__UID__"/>

                        <r:secondaryIdentifier ref="ids:__NAME__"/>

                        <r:displayName ref="ri:description"/>

                        <r:descriptionAttribute ref="ri:description"/>

                        <r:nativeObjectClass>__GROUP__</r:nativeObjectClass>

                        <r:container/>
                        </xsd:appinfo>
                    </xsd:annotation>

                <xsd:complexContent>

                    <xsd:extension base="r:ResourceObjectClass">

                        <xsd:sequence>

                            <xsd:element ref="ids:__NAME__">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:nativeAttributeName>__NAME__</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element minOccurs="0" name="description" type="xsd:string">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:help>DESCRIPTION_NAME_HELP_KEY</r:help>

                                        <r:nativeAttributeName>description</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>

                            <xsd:element ref="ids:__UID__">

                                <xsd:annotation>

                                    <xsd:appinfo>

                                        <r:attributeFlag>NOT_UPDATEABLE</r:attributeFlag>

                                        <r:nativeAttributeName>__UID__</r:nativeAttributeName>
                                        </xsd:appinfo>
                                    </xsd:annotation>
                                </xsd:element>
                            </xsd:sequence>
                        </xsd:extension>
                    </xsd:complexContent>
                </xsd:complexType>
            </xsd:schema>
    </schema>
    <schemaHandling>
        <accountType default="true">
            <name>Default Account</name>
            <objectClass xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">ri:Account</objectClass>
            <attribute ref="ids:__NAME__" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd">
                <name>Distinguished Name</name>
                <access>create</access>
                <access>read</access>
                <outbound default="true">
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            concat('uid=', $i:user/c:name, ',ou=people,dc=example,dc=com')
                            </i:valueExpression>
                </outbound>
            </attribute>
            <attribute ref="ids:__UID__" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd">
                <name>Entry UUID</name>
                <access>read</access>
            </attribute>
            <attribute ref="ri:cn" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <name>Common Name</name>
                <access>create</access>
                <access>read</access>
                <access>update</access>
                <outbound>
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:fullName
                        </i:valueExpression>
                </outbound>
                <i:inbound xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                    <c:target>
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:fullName
                        </c:target>
                </i:inbound>
            </attribute>
            <attribute ref="ri:sn" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <name>Surname</name>
                <access>create</access>
                <access>read</access>
                <access>update</access>
                <outbound>
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:familyName
                        </i:valueExpression>
                </outbound>
                <i:inbound xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                    <c:target>
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:familyName
                        </c:target>
                    </i:inbound>
            </attribute>
            <attribute ref="ri:givenName" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <name>Given Name</name>
                <access>create</access>
                <access>read</access>
                <access>update</access>
                <outbound>
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:givenName
                        </i:valueExpression>
                </outbound>
                <i:inbound xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                    <c:target>
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:givenName
                        </c:target>
                    </i:inbound>
            </attribute>
            <attribute ref="ri:uid" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <name>Login Name</name>
                <access>create</access>
                <access>read</access>
                <outbound>
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:name
                        </i:valueExpression>
                </outbound>
                <i:inbound xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                    <c:target>
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $i:user/i:name
                        </c:target>
                    </i:inbound>
            </attribute>
            <attribute ref="ri:description" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <outbound default="true">
                    <value>Created by IDM</value>
                </outbound>
            </attribute>
            <attribute ref="ri:l" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2">
                <outbound>
                    <variable name="my:config" xmlns:my="http://myself.me/schemas/whatever">
                        <objectRef oid="c0c010c0-d34d-b33f-f00d-999111111111"/>
                    </variable>
                    <variable name="my:whatever" xmlns:my="http://myself.me/schemas/whatever">
                        <value>WhaTEvEr</value>
                    </variable>
                    <i:valueExpression xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                            declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                            $my:config/c:extension/my:locations/my:location[@key=$i:user/i:locality]
                        </i:valueExpression>
                </outbound>
            </attribute>
        </accountType>
    </schemaHandling>
    <synchronization>
        <enabled>true</enabled>
        <pollingInterval>60</pollingInterval>
        <correlation>
            <c:equal xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2">
                <i:path>.</i:path>
                <c:valueExpression>
			<c:ref>c:name</c:ref>
			<c:code>
                        declare namespace i="http://midpoint.evolveum.com/xml/ns/public/common/common-2";
                        declare namespace dj="http://midpoint.evolveum.com/xml/ns/samples/localhostOpenDJ";
                        $i:account/i:attributes/dj:uid
			</c:code>
                        </c:valueExpression>
                </c:equal>
        </correlation>
        <reaction>
            <situation>confirmed</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#modifyUser"/>
        </reaction>
        <reaction>
            <situation>deleted</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#addAccount"/>
        </reaction>
        <reaction>
            <situation>missing</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#addAccount"/>
        </reaction>
        <reaction>
            <situation>found</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#linkAccount"/>
        </reaction>
        <reaction>
            <situation>unassigned</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#linkAccount"/>
        </reaction>
        <reaction>
            <situation>unmatched</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#addUser">
                <i:userTemplateRef oid="c0c010c0-d34d-b33f-f00d-777111111111" xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-2" xmlns:ids="http://midpoint.evolveum.com/xml/ns/public/resource/idconnector/resource-schema-1.xsd" xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instances/ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2" xmlns:my="http://myself.me/schemas/whatever" xmlns:i="http://midpoint.evolveum.com/xml/ns/public/common/common-2"/>
            </action>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-1#linkAccount"/>
        </reaction>
    </synchronization>
</object>
